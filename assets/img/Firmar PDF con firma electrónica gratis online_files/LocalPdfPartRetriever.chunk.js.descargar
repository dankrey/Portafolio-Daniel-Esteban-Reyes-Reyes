(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[9],{459:function(t,e,n){n.r(e);var i=n(0);t=n(48);var r=n(394),o=n(223),a=n(20),s=window;n=function(){function t(t){var e=this;this.hha=function(t){return t&&("image"===t.type.split("/")[0].toLowerCase()||t.name&&!!t.name.match(/.(jpg|jpeg|png|gif)$/i))},this.file=t,this.vha=new Promise(function(n){return Object(i.b)(e,void 0,void 0,function(){var e;return Object(i.d)(this,function(i){switch(i.label){case 0:return this.hha(this.file)?[4,Object(o.b)(t)]:[3,2];case 1:e=i.ca(),this.file=a.q?new Blob([e],{type:t.type}):new File([e],null==t?void 0:t.name,{type:t.type}),i.label=2;case 2:return n(!0),[2]}})})})}return t.prototype.getFileData=function(e){var n=this,i=new FileReader;i.onload=function(i){n.trigger(t.Events.DOCUMENT_LOADING_PROGRESS,[i.loaded,i.loaded]),e(new Uint8Array(i.target.result))},i.onprogress=function(e){e.lengthComputable&&n.trigger(t.Events.DOCUMENT_LOADING_PROGRESS,[e.loaded,0<e.total?e.total:0])},i.readAsArrayBuffer(this.file)},t.prototype.getFile=function(){return Object(i.b)(this,void 0,Promise,function(){return Object(i.d)(this,function(t){switch(t.label){case 0:return[4,this.vha];case 1:return t.ca(),s.utils.isJSWorker?[2,this.file.path]:[2,this.file]}})})},t.Events={DOCUMENT_LOADING_PROGRESS:"documentLoadingProgress"},t}(),Object(t.a)(n),Object(r.a)(n),Object(r.b)(n),e.default=n}}])}).call(this||window);